<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chaos Monkey - FinOptiAgents</title>
    <link rel="stylesheet" href="style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- HEADER -->
        <header class="main-header">
            <div class="logo">
                <span class="logo-icon">üêí</span>
                <h1>Chaos Monkey</h1>
            </div>
            <div class="status-indicator">
                <span class="status-dot online"></span>
                <span>System Online</span>
            </div>
        </header>

        <!-- MAIN LAYOUT (Split Pane) -->
        <main class="split-layout">

            <!-- LEFT PANE: Scenario List -->
            <aside class="left-pane">
                <div class="pane-header">
                    <h2>Chaos Scenarios</h2>
                    <span class="badge" id="scenario-count">0</span>
                </div>
                <div class="scenario-list" id="scenario-list">
                    <!-- Scenario Cards will be injected here -->
                    <div class="loading-spinner">Loading...</div>
                </div>
            </aside>

            <!-- RIGHT PANE: Details & Logs -->
            <section class="right-pane">

                <!-- If nothing selected -->
                <div id="empty-state" class="empty-state">
                    <div class="empty-icon">üëà</div>
                    <h3>Select a Scenario</h3>
                    <p>Choose a chaos scenario from the left to view details and execute attacks.</p>
                </div>

                <!-- Scenario Details (Initially Hidden) -->
                <div id="scenario-details" class="scenario-details hidden">

                    <!-- Detail Header -->
                    <div class="detail-header">
                        <h2 id="detail-title">Scenario Name</h2>
                        <div class="detail-actions">
                            <button class="btn btn-restore" onclick="executeAction('restore')">
                                <span class="icon">‚Ü∫</span> Restore
                            </button>
                            <button class="btn btn-break" onclick="executeAction('break')">
                                <span class="icon">‚ö°</span> Simulate Break
                            </button>
                        </div>
                    </div>

                    <!-- Metadata -->
                    <div class="detail-meta">
                        <p id="detail-description">Description goes here...</p>
                    </div>

                    <!-- Overview Content (No Tabs) -->
                    <div id="tab-overview" class="tab-content active" style="display: block; padding: 24px 32px;">
                        <div class="info-card">
                            <h3>Technical Explanation</h3>
                            <p id="detail-explanation">Technical details...</p>
                        </div>

                        <div class="info-card">
                            <h3>Execution Steps</h3>
                            <ul id="detail-steps" class="steps-list">
                                <!-- Steps list -->
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>Orchestrator Output</h3>
                            <pre id="orchestrator-output" class="code-block placeholder">Ready for execution...</pre>
                        </div>

                        <!-- User Input Area (Hidden by default) -->
                        <div id="input-area" class="input-area hidden" style="margin-top: 20px; padding: 15px; background: #1e1e1e; border-radius: 6px; border: 1px solid #333;">
                            <h3 style="margin-top: 0; margin-bottom: 10px; font-size: 14px; color: #8b949e;">Reply to Agent</h3>
                            <textarea id="user-input" rows="3" placeholder="Type your confirmation or reply here..." style="width: 100%; background: #0d1117; border: 1px solid #30363d; color: #c9d1d9; border-radius: 4px; padding: 8px; margin-bottom: 10px; resize: vertical;"></textarea>
                            <button class="btn btn-restore" onclick="sendReply()" style="width: 100%;">
                                <span class="icon">üí¨</span> Send Reply
                            </button>
                        </div>
                    </div>

                </div>
            </section>
        </main>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">Action Initiated</div>

    <script src="script.js"></script>
</body>

</html>