Multi Agent Autonomous Troubleshooting System (MATS)Platform Overview: This platform uses group of agents to troubleshoot user reported application issues. Design details are documneted in /Users/robinkv/dev_workplace/all_codebase/auth_micro_agents/finopti-platform/AI_AGENT_DEVELOPMENT_GUIDE_V2.0.md
Current struggles:
User logs into the platform (UI) using Google OAuth token. This token is required for successful authentication of the user in the backend services and sub agents including MATS agents. 
1. Errors Reported:This token is not propogating as expected and sub agents are failing.
Redis inmemory database is used to store sessions. The session id generated in UI (UUID) should be used as the reference. There are 2 session objects used. 
One session object is used to store user info and application details to progress with application troubleshooting. User info is collected from the OAuth token and the application details are collected form the user through Q&A.
Second session object is used by the agents to form the context to troubleshoot the application issue. This session object is used to store the context of the application issue and the troubleshooting steps taken by the agent. This is passed into LLM for RCA/Solution generation, etc. 
2. Errors Reported: In the session management, sometimes, instead of using the UUID generated form UI, some random session ID is generated by agents and is used which breaks the entire application becuase other agents are not able to use this randomply generated session ID in Redis.

The system uses a "Single Source of Truth" event bridge. As agents work, they publish standardized events to Redis pub-sub, which are then streamed to the UI via Server-Sent Events (SSE). details are in the documenetation./Users/robinkv/dev_workplace/all_codebase/auth_micro_agents/finopti-platform/docs/redis-event-bridge-mats-architecture.md
3.Errors Reported: Again the session ID used by agents are wrong. This creates wrong Redis pub-sub channels and fails the message logging and UI is not updated. 

4. Since the session ID generated is just random, messages generated are getting loggedinto different channels and all agents are running in different directions without any coordination- sample log from last run.  -> /Users/robinkv/dev_workplace/all_codebase/auth_micro_agents/finopti-platform/redis-logs-lastrun.txt

5. Errors Reported: The logged-in user eg: robin@cloudroaster.com is the owner of the gcp project. Still IAM agent is responding back saying -> I've attempted to troubleshoot the accessibility issue for calculator-app in project vector-search-poc, but I encountered several blockers that suggest a permission or visibility issue:

Project Visibility Issue: When I checked for available GCP projects under your account (robin@cloudroaster.com), no projects were found.
Troubleshooting Blocked: The specialized troubleshooting agent (mats-orchestrator) was unable to retrieve logs or metrics for the calculator-app because it couldn't connect to the log querying service in the vector-search-poc project.
Systemic Access Failure: The investigation indicates that the observability stack is currently inaccessible, likely due to a lack of verified IAM permissions or network access for the service accounts used by the troubleshooting tools.


Troubleshooting options available:
Platform has a native observability integrated with promethus, Loki, Grafana which can be used to monitor the logs -> http://localhost:3001/d/container-logs-v1/container-logs-explorer?orgId=1&from=now-6h&to=now&var-container=All

Agentic observability is enabled through Areiz Phoenix ->http://localhost:6006/projects 

Antigravity headless browser can also be used to verify the results. 

Local Redis Db monitored for sessions and pub-sub channels will help to uderstand the data.

Need a proper all these issues and fix for these issues. I have been struggling with this for last 4 days and has made no progress with any other functionality. No need to hurry into the fix, lets create a strategy to build the robust solutins and move slowly to the fix. You can ask questions if you need any inputs. I just completed one round of test run and these issues and its evidences can be checked from above mentioned sources.  



